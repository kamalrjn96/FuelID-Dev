(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{439:function(e,t,a){e.exports=a(605)},605:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),l=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(444);var o=a(64),i=a(660),u=a(56),s=a(379),m=Object(u.a)((function(){return Object(s.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),d=function(){return m(),null},p=a(101);p.Chart.helpers.extend(p.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,a,r,n,c,l,o,i=this._chart.ctx,u=this._view,s=u.borderWidth,m=this._chart.config.options.cornerRadius;if(m<0&&(m=0),"undefined"===typeof m&&(m=0),u.horizontal?(e=u.base,t=u.x,a=u.y-u.height/2,r=u.y+u.height/2,n=t>e?1:-1,c=1,l=u.borderSkipped||"left"):(e=u.x-u.width/2,t=u.x+u.width/2,a=u.y,n=1,c=(r=u.base)>a?1:-1,l=u.borderSkipped||"bottom"),s){var d=Math.min(Math.abs(e-t),Math.abs(a-r)),p=(s=s>d?d:s)/2,f=e+("left"!==l?p*n:0),b=t+("right"!==l?-p*n:0),g=a+("top"!==l?p*c:0),E=r+("bottom"!==l?-p*c:0);f!==b&&(a=g,r=E),g!==E&&(e=f,t=b)}i.beginPath(),i.fillStyle=u.backgroundColor,i.strokeStyle=u.borderColor,i.lineWidth=s;var h=[[e,r],[e,a],[t,a],[t,r]],v=["bottom","left","top","right"].indexOf(l,0);function y(e){return h[(v+e)%4]}-1===v&&(v=0);var O=y(0);i.moveTo(O[0],O[1]);for(var x=1;x<4;x+=1){O=y(x);var j=x+1;4===j&&(j=0);var C=h[2][0]-h[1][0],S=h[0][1]-h[1][1],w=h[1][0],N=h[1][1];if((o=m)>Math.abs(S)/2&&(o=Math.floor(Math.abs(S)/2)),o>Math.abs(C)/2&&(o=Math.floor(Math.abs(C)/2)),S<0){var k=w,D=w+C,P=N+S,T=N+S,W=w,I=w+C,F=N,M=N;i.moveTo(W+o,F),i.lineTo(I-o,M),i.quadraticCurveTo(I,M,I,M-o),i.lineTo(D,T+o),i.quadraticCurveTo(D,T,D-o,T),i.lineTo(k+o,P),i.quadraticCurveTo(k,P,k,P+o),i.lineTo(W,F-o),i.quadraticCurveTo(W,F,W+o,F)}else if(C<0){var q=w+C,z=w,R=N,A=N,V=w+C,U=w,L=N+S,Q=N+S;i.moveTo(V+o,L),i.lineTo(U-o,Q),i.quadraticCurveTo(U,Q,U,Q-o),i.lineTo(z,A+o),i.quadraticCurveTo(z,A,z-o,A),i.lineTo(q+o,R),i.quadraticCurveTo(q,R,q,R+o),i.lineTo(V,L-o),i.quadraticCurveTo(V,L,V+o,L)}else i.moveTo(w+o,N),i.lineTo(w+C-o,N),i.quadraticCurveTo(w+C,N,w+C,N+o),i.lineTo(w+C,N+S-o),i.quadraticCurveTo(w+C,N+S,w+C-o,N+S),i.lineTo(w+o,N+S),i.quadraticCurveTo(w,N+S,w,N+S-o),i.lineTo(w,N+o),i.quadraticCurveTo(w,N,w+o,N)}i.fill(),s&&i.stroke()}});var f=a(113),b=a(10),g=Object(f.a)({palette:{background:{dark:"#F4F6F8",default:b.a.common.white,paper:b.a.common.white},primary:{main:b.a.indigo[500]},secondary:{main:b.a.indigo[500]},text:{primary:b.a.blueGrey[900],secondary:b.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),E=a(5),h=a(383),v=a.n(h),y=(a(549),a(552),v.a.initializeApp({apiKey:"AIzaSyBS8fF70P7rkE-o9S4rv00UpA6y8iIDMxs",authDomain:"fuelid-development.firebaseapp.com",databaseURL:"https://fuelid-development-default-rtdb.firebaseio.com/",projectId:"fuelid-development",storageBucket:"fuelid-development.appspot.com",messagingSenderId:"868371686973",appId:"1:868371686973:web:da385aea79b6cdfb5fec54"})),O=y.auth(),x=y.firestore(),j=n.a.createContext();function C(){return Object(r.useContext)(j)}function S(e){var t=e.children,a=Object(r.useState)(),c=Object(E.a)(a,2),l=c[0],o=c[1],i=Object(r.useState)(!0),u=Object(E.a)(i,2),s=u[0],m=u[1];Object(r.useEffect)((function(){return O.onAuthStateChanged((function(e){o(e),m(!1)}))}),[]);var d={currentUser:l,login:function(e,t){return O.signInWithEmailAndPassword(e,t)},signup:function(e,t){return O.createUserWithEmailAndPassword(e,t)},logout:function(){return O.signOut()},resetPassword:function(e){return O.sendPasswordResetEmail(e)},updateEmail:function(e){return l.updateEmail(e)},updatePassword:function(e){return l.updatePassword(e)}};return n.a.createElement(j.Provider,{value:d},!s&&t)}var w=a(32),N=a(2),k=a(647),D=a(648),P=a(688),T=function(e){return n.a.createElement(P.a,Object.assign({alt:"Logo",src:"/static/logo.jpg"},e))},W=Object(u.a)({root:{},toolbar:{height:64}}),I=function(e){var t=e.className,a=Object(w.a)(e,["className"]),r=W();return n.a.createElement(k.a,Object.assign({className:Object(N.a)(r.root,t),elevation:0},a),n.a.createElement(D.a,{className:r.toolbar},n.a.createElement(T,null)))},F=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),M=function(e){var t=e.children,a=F();return n.a.createElement("div",{className:a.root},n.a.createElement(I,null),n.a.createElement("div",{className:a.wrapper},n.a.createElement("div",{className:a.contentContainer},n.a.createElement("div",{className:a.content},t))))},q=a(21),z=a.n(q),R=a(35),A=(a(377),a(378),a(680)),V=a(649),U=a(50),L=a(426),Q=a(139),B=a(651),G=a(652),H=a(681),Y=function(){var e=C().currentUser,t=Object(r.useState)(!0),a=Object(E.a)(t,2),c=a[0],l=a[1],o=Object(r.useState)(),i=Object(E.a)(o,2),u=i[0],s=i[1];return Object(r.useEffect)((function(){try{x.collection("users").doc(e.uid).get().then((function(e){e&&(s(e.data()),console.log(e.data()),console.log(u),l(!1))}))}catch(t){console.log(t),console.log("Failed to get user data")}}),[e]),c&&n.a.createElement("div",null,"Loading...")},X=a(387),J=Object(r.forwardRef)((function(e,t){var a=e.children,r=e.title,c=void 0===r?"":r,l=Object(w.a)(e,["children","title"]);return n.a.createElement("div",Object.assign({ref:t},l),n.a.createElement(X.a,null,n.a.createElement("title",null,c)),a)})),$=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),K=function(){var e=$(),t=Object(r.useRef)(""),a=Object(r.useRef)(""),c=C().login,l=Object(r.useState)(""),i=Object(E.a)(l,2),u=i[0],s=i[1],m=Object(r.useState)(!1),d=Object(E.a)(m,2),p=d[0],f=d[1],b=Object(r.useState)(!1),g=Object(E.a)(b,2),h=g[0],v=g[1],y=Object(r.useState)(!1),O=Object(E.a)(y,2),x=O[0],j=O[1],S=function(){return n.a.createElement(Y,null)};function w(){return(w=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s(""),f(!0),e.next=6,c(h,x);case 6:S(),Object(o.navigate)("/app/dashboard",!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s("Failed to log in");case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return n.a.createElement(J,{className:e.root,title:"Login"},n.a.createElement(A.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},n.a.createElement(V.a,{maxWidth:"sm"},n.a.createElement(A.a,{mb:3},n.a.createElement(U.a,{color:"textPrimary",variant:"h2"},"Sign in")),u&&n.a.createElement(H.a,{severity:"error"},u),n.a.createElement("form",{className:"form",noValidate:!0},n.a.createElement(L.a,{fullWidth:!0,label:"Email Address",margin:"normal",name:"email",type:"email",required:!0,variant:"outlined",innerRef:t,onChange:function(e){return v(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined",innerRef:a,onChange:function(e){return j(e.target.value)},required:!0}),n.a.createElement(A.a,{my:2},n.a.createElement(Q.a,{color:"primary",disabled:p,fullWidth:!0,size:"large",type:"submit",variant:"contained",onClick:function(e){return w.apply(this,arguments)}},"Sign in now"),n.a.createElement(B.a,{container:!0},n.a.createElement(B.a,{item:!0,xs:!0},n.a.createElement(G.a,{href:"#",variant:"body2"},"Forgot password?")),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textSecondary",variant:"body1"},"Don't have an account?"," ",n.a.createElement(o.A,{href:"/register",variant:"h6"},"Sign up")))))))))},_=a(17),Z=a(90),ee=(a(557),a(417)),te=a.n(ee),ae=a(418),re=a.n(ae),ne=a(204),ce=a.n(ne),le=a(274),oe=a.n(le),ie=a(415),ue=a.n(ie),se=a(273),me=a.n(se),de=a(683),pe=a(668),fe=a(658),be=a(659),ge=a(656),Ee=a(655),he=a(657),ve=a(653),ye=a(138),Oe=a(25),xe=(a(575),a(214)),je=a(108),Ce=a(682),Se=a(654),we=a(112),Ne=a.n(we),ke=a(613),De=Object(u.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:b.a.red[600],height:56,width:56},differenceIcon:{color:b.a.red[900]},differenceValue:{color:b.a.red[900],marginRight:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function Pe(e){var t,a=De(),c=Object(r.useState)(0),l=Object(E.a)(c,2),o=l[0],i=l[1],u=Object(r.useState)(1),s=Object(E.a)(u,2),m=s[0],d=(s[1],Object(r.useState)("")),p=Object(E.a)(d,2),f=p[0],b=p[1],g=Object(r.useState)(),h=Object(E.a)(g,2),v=h[0],y=h[1],O=Object(r.useState)(),j=Object(E.a)(O,2),S=j[0],w=j[1],N=Object(r.useState)(new Date("2014-08-18T21:11:54")),k=Object(E.a)(N,2),D=(k[0],k[1],C().currentUser);D&&(t=x.collection("users").doc(D.uid));var P=Object(r.useState)(e.userData),T=Object(E.a)(P,2),W=T[0],I=T[1],F=Object(r.useState)(W&&W.address?W.address:""),M=Object(E.a)(F,2),q=M[0],z=M[1],R=Object(r.useState)(W&&W.address?W.address[0].value:""),V=Object(E.a)(R,2),G=V[0],H=V[1],Y=Math.floor(1e3+9e3*Math.random()),X=Object(r.useState)(!1),J=Object(E.a)(X,2),$=J[0],K=J[1],Z=function(){K(!1)};return n.a.createElement("div",null,n.a.createElement(ve.a,null,n.a.createElement(B.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",width:"100%"},n.a.createElement(B.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},n.a.createElement(B.a,{item:!0},n.a.createElement(A.a,{display:"flex",flexDirection:"row",justifyContent:"flex-start"},n.a.createElement(A.a,{flexDirection:"column"},n.a.createElement(U.a,{color:"textSecondary",variant:"h6"}),n.a.createElement(U.a,{color:"textPrimary",variant:"h2"},D&&D.displayName),n.a.createElement(U.a,{color:"primary",variant:"h6"},W&&W.mobileNumber))))),n.a.createElement(B.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"primary",variant:"caption"},""),n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},G))),n.a.createElement(B.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},n.a.createElement(B.a,{item:!0},n.a.createElement(ye.a,{className:a.formControl,width:1},W&&W.address&&n.a.createElement(xe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"Kamal",onChange:function(e){H(e.target.value)}},q.map((function(e){return n.a.createElement(je.a,{key:e.tag,value:e.value},e.tag)}))),n.a.createElement(ke.a,null,"Select Address"))),n.a.createElement(B.a,{item:!0}),n.a.createElement(B.a,{item:!0},n.a.createElement(A.a,{display:"flex",flexDirection:"row-reverse"},n.a.createElement(ye.a,{className:a.formControl},n.a.createElement(Se.a,{size:"small",color:"secondary","aria-label":"add",onClick:function(){K(!0)}},n.a.createElement(Ne.a,null)),n.a.createElement(ke.a,null,"Add new address"))))),n.a.createElement(B.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},n.a.createElement(B.a,{item:!0},n.a.createElement(ye.a,{className:a.formControl},n.a.createElement(L.a,{autoFocus:!0,id:"quantitySelect",label:"Qty",onChange:function(e){return i(e.target.value)},type:"number",min:e.minQuantity,defaultValue:e.minQuantity}),n.a.createElement(ke.a,null,"Choose Quantity"))),n.a.createElement(B.a,{item:!0},n.a.createElement(ye.a,{className:a.formControl},n.a.createElement(L.a,{autoFocus:!0,id:"price",label:"Price",type:"text",value:o*e.price,InputProps:{readOnly:!0}}),n.a.createElement(ke.a,null,"Calculated Price"))))),n.a.createElement(L.a,{autoFocus:!0,fullWidth:!0,margin:"dense",id:"remarks",label:"Remarks",type:"text",onChange:function(e){return b(e.target.value)},placeholder:"Place order for a later date | Provide delivery instructions"}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},"*Actual Price will depend on the actual quantity of the fuel Delivered."),n.a.createElement("br",null),n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},"**Fuel price is dependant on the day's pricing"),n.a.createElement("div",null,n.a.createElement(Ee.a,{disableBackdropClick:!0,open:$,onClose:Z},n.a.createElement(ge.a,null,"Add New Address"),n.a.createElement(ve.a,null,n.a.createElement("form",{className:a.container},n.a.createElement(ye.a,{className:a.formControl},n.a.createElement(L.a,{fullWidth:!0,label:"New Tag",margin:"normal",name:"addressTag",variant:"outlined",required:!0,onChange:function(e){return y(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"New Address",margin:"normal",name:"address",variant:"outlined",required:!0,onChange:function(e){return w(e.target.value)}})))),n.a.createElement(he.a,null,n.a.createElement(Q.a,{onClick:Z,color:"primary"},"Cancel"),n.a.createElement(Q.a,{onClick:function(e){var a;e.preventDefault(),a=W.address?[].concat(Object(Oe.a)(W.address),[{id:Object(Ce.a)(),tag:v,value:S}]):[{id:Object(Ce.a)(),tag:v,value:S}],z(a),H(a[a.length-1].value);var r=Object(_.a)(Object(_.a)({},W),{},{address:a});I(r),t.set(r).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)})),console.log(r),K(!1)},color:"primary"},"Ok"))))),n.a.createElement(he.a,null,n.a.createElement(Q.a,{onClick:function(){x.collection("orders").doc("SG-".concat(Y)).set({userID:D.uid,orderID:"SG-".concat(Y),quantity:o,price:o*e.price,paymentType:m,orderStatus:1,remarks:f,customerName:D.displayName,mobileNumber:W.mobileNumber,created:Date.now(),addressValue:G,OTP:Math.floor(1e3+9e3*Math.random())}).then((function(){console.log("Document successfully written!"),e.closeOrder()})).catch((function(e){console.error("Error writing document: ",e)}))},color:"primary",disabled:!o},"Place Order"),n.a.createElement(Q.a,{onClick:e.closeOrder,color:"primary"},"Close")))}var Te=Object(u.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:b.a.red[600],height:56,width:56},differenceIcon:{color:b.a.red[900]},differenceValue:{color:b.a.red[900],marginRight:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),We=function(e){var t=Te(),a=C().currentUser,c=((new Date).toISOString().slice(0,10),Object(r.useState)(e.userData)),l=Object(E.a)(c,2),o=l[0],i=l[1];Object(r.useEffect)((function(){try{x.collection("users").doc(a.uid).get().then((function(e){e&&i(e.data())}))}catch(e){console.log(e),console.log("Failed to get user data")}}),[]);var u=Object(r.useState)(!1),s=Object(E.a)(u,2),m=s[0],d=s[1],p=Object(r.useState)(!1),f=Object(E.a)(p,2),b=f[0],g=f[1],h=Object(r.useState)(e.price),v=Object(E.a)(h,2),y=v[0],O=v[1],j=function(){d(!1)},S=function(){g(!1)};return n.a.createElement(fe.a,{className:Object(N.a)(t.root)},o&&o.isCustomer&&n.a.createElement("div",null,n.a.createElement(be.a,null,n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"Today's Price"),n.a.createElement(U.a,{color:"textPrimary",variant:"h3"},e.price)),n.a.createElement(A.a,{mt:4,display:"flex",alignItems:"center",justifyContent:"center",paddingRight:2},n.a.createElement(Q.a,{color:"primary",fullWidth:!0,size:"small",type:"submit",variant:"contained",onClick:function(){d(!0)}},"Order Now"))),n.a.createElement(A.a,{mt:2,display:"flex",alignItems:"center"},n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},n.a.createElement("i",{className:"fas fa-rupee-sign"})," / Litre"))),n.a.createElement("div",null,m&&n.a.createElement(Ee.a,{open:m,onClose:j,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm"},n.a.createElement(Pe,{price:e.price,userData:e.userData,minQuantity:e.minQuantity,closeOrder:j})))),o&&o.isOwner&&n.a.createElement("div",null,n.a.createElement(be.a,null,n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"Selling price today"),n.a.createElement(U.a,{color:"textPrimary",variant:"h3"},e.price,"  ",n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},n.a.createElement("i",{className:"fas fa-rupee-sign"})," / Litre"))),n.a.createElement(A.a,{display:"flex",alignItems:"center",justifyContent:"center",paddingRight:2},n.a.createElement(Q.a,{color:"primary",fullWidth:!0,size:"small",type:"submit",variant:"contained",onClick:function(){g(!0)}},"Set Price")))),n.a.createElement("div",null,b&&n.a.createElement("div",null,n.a.createElement(Ee.a,{open:b,onClose:j,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm"},n.a.createElement(ge.a,null,"Set Price"),n.a.createElement(ve.a,null,n.a.createElement("form",{className:t.container},n.a.createElement(ye.a,{className:t.formControl},n.a.createElement(L.a,{fullWidth:!0,label:"Price",margin:"normal",name:"price",variant:"outlined",required:!0,defaultValue:e.price,onChange:function(e){return O(e.target.value)}})))),n.a.createElement(he.a,null,n.a.createElement(Q.a,{onClick:S,color:"primary"},"Cancel"),n.a.createElement(Q.a,{onClick:function(e){e.preventDefault();try{x.collection("priceForTheDay").doc("e8kgvrn1XGzqM4JYAG3X").update({price:parseInt(y),lastUpdated:Date.now()}).then((function(){console.log("Document successfully written!")}))}catch(t){console.log(t),console.log("Failed to get user data")}S()},color:"primary"},"Ok")))))))},Ie=a(66),Fe=a.n(Ie),Me=(a(600),a(687)),qe=a(202),ze=a.n(qe),Re=a(410),Ae=Object(u.a)((function(){return{root:{},actions:{justifyContent:"flex-end"}}})),Ve=function(e){var t=Ae(),a=Object(r.useState)([]),c=Object(E.a)(a,2),l=c[0],o=c[1];Object(r.useEffect)((function(){var t=[];t.push.apply(t,Object(Oe.a)(e.orders.map((function(e){return e.id=e.orderID,e.quantity=1!==e.orderStatus?e.deliveredQuantity:e.quantity,e.completed=e.delivered?e.delivered:e.cancelled,e})))),o(t)}),[]);var i=[{field:"orderID",headerName:"Order Ref",width:120},{field:"customerName",headerName:"Customer name",width:160},{field:"addressValue",headerName:"Location",width:180},{field:"created",headerName:"Date Ordered",type:"date",width:160,renderCell:function(e){return Fe()(e.value).format("DD/MM/YYYY HH:mm")}},{field:"completed",headerName:"Date Completed",type:"date",width:160,renderCell:function(e){return e.value?Fe()(e.value).format("DD/MM/YYYY HH:mm"):""}},{field:"paymentType",headerName:"Payment Method",renderCell:function(e){return 1===e.value?"Cash":"Credit"},width:180},{field:"quantity",headerName:"Quantity(Ltrs)",width:150},{field:"price",headerName:"Amount(Rs)",width:140},{field:"orderStatus",headerName:"Status",width:100,renderCell:function(e){return n.a.createElement(Me.a,{color:"primary",label:1===e.value?"In-Progress":2===e.value?"Delivered":"Cancelled",size:"small"})}},{field:"actions",headerName:"Actions",sortable:!1,width:120,renderCell:function(){return n.a.createElement(ze.a,{color:"primary",size:"small",onMouseOver:function(e){return function(e){e.target.style.cursor="pointer"}(e)}})}}];return n.a.createElement(fe.a,{className:Object(N.a)(t.root)},l&&0!==l.length&&n.a.createElement("div",{style:{height:400,width:"100%"}},n.a.createElement(Re.a,{rows:l,columns:i,pageSize:10})))},Ue=a(661),Le=a(662),Qe=a(612),Be=a(614),Ge=(a(663),a(664),a(107)),He=(a(203),Object(Ce.a)(),Fe()().subtract(2,"hours"),Object(Ce.a)(),Fe()().subtract(2,"hours"),Object(Ce.a)(),Fe()().subtract(3,"hours"),Object(Ce.a)(),Fe()().subtract(5,"hours"),Object(Ce.a)(),Fe()().subtract(9,"hours"),Object(u.a)({root:{height:"100%"},image:{height:48,width:48}}),a(19)),Ye=(a(412),Object(u.a)((function(){return{root:{}}})),a(665),a(413),Object(u.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:b.a.orange[600],height:56,width:56}}})),a(666)),Xe=Object(u.a)((function(e){return{root:{height:"100%",minWidth:275},avatar:{backgroundColor:b.a.green[600],height:56,width:56},differenceIcon:{color:b.a.green[900]},differenceValue:{color:b.a.green[900],marginRight:e.spacing(1)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},formControl:{margin:e.spacing(1),minWidth:120}}})),Je=function(e){var t=Xe(),a=Object(r.useState)(1),c=Object(E.a)(a,2),l=c[0],o=c[1],i=Object(r.useState)(0),u=Object(E.a)(i,2),s=u[0],m=u[1],d=Object(r.useState)(0),p=Object(E.a)(d,2),f=p[0],b=p[1],g=Object(r.useState)(0),h=Object(E.a)(g,2),v=(h[0],h[1],Object(r.useState)()),y=Object(E.a)(v,2),O=y[0],j=y[1],S=Object(r.useState)(!1),w=Object(E.a)(S,2),k=w[0],D=w[1],P=Object(r.useState)(!1),T=Object(E.a)(P,2),W=T[0],I=T[1],F=Object(r.useState)(!1),M=Object(E.a)(F,2),q=M[0],z=M[1],R=Object(r.useState)(""),A=Object(E.a)(R,2),V=A[0],G=A[1];C().currentUser;Object(r.useEffect)((function(){setTimeout((function(){D(!1)}),2e3)}),[k]),Object(r.useEffect)((function(){setTimeout((function(){I(!1)}),2e3)}),[W]);var Y=function(){z(!0)},X=function(){z(!1)};function J(e){e.target.style.cursor="pointer"}function $(t,a,r){t.preventDefault(),x.collection("orders").doc(a).update({orderStatus:3,cancelled:Date.now(),cancelledBy:r,cancelRemark:V}).then((function(){e.openNotification(),console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)})),X()}return n.a.createElement(fe.a,{className:Object(N.a)(t.root)},e.userdata&&e.userdata.isCustomer&&n.a.createElement("div",null,n.a.createElement(Ee.a,{open:q,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",onClose:X},n.a.createElement(ge.a,null,"Add Remarks"),n.a.createElement(ve.a,null,n.a.createElement("form",{className:t.container,onSubmit:function(t){return $(t,e.order.orderID,"Customer")}},n.a.createElement(ye.a,{className:t.formControl},n.a.createElement(L.a,{fullWidth:!0,label:"Remarks",margin:"normal",name:"cancelRemarks",variant:"outlined",required:!0,onChange:function(e){return G(e.target.value)}}),n.a.createElement(he.a,null,n.a.createElement(Q.a,{onMouseOver:function(e){return J(e)},onClick:function(e){return X()},color:"primary"},"Cancel"),n.a.createElement(Q.a,{onMouseOver:function(e){return J(e)},onClick:function(t){return $(t,e.order.orderID,"Customer")},color:"primary",type:"submit"},"Ok")))))),n.a.createElement(be.a,null,n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:1},n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:6},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textSecondary",variant:"h3"},"Current Order"),n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},e.order.orderID)),n.a.createElement(B.a,{item:!0},n.a.createElement(Me.a,{color:"secondary",onMouseOver:function(e){return J(e)},label:"Cancel",onClick:function(e){return Y()},size:"small"}))),n.a.createElement(B.a,{item:!0},n.a.createElement(B.a,{container:!0,justify:"center",spacing:4},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},e.order.quantity," ",n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},"Liters"))),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},n.a.createElement("i",{variant:"caption",className:"fas fa-rupee-sign"})," ",e.order.price)),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},1===e.order.paymentType?"Cash":"Credit")))),n.a.createElement(B.a,{item:!0},n.a.createElement(B.a,{container:!0,justify:"center",spacing:8},n.a.createElement(B.a,{item:!0},n.a.createElement(Me.a,{color:"secondary",label:"In-Progress",size:"small"})),n.a.createElement(B.a,{item:!0,alignItems:"center"},n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},"OTP : ".concat(e.order.OTP)))))))),e.userdata&&e.userdata.isDriver&&n.a.createElement("div",null,n.a.createElement(Ee.a,{open:q,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",onClose:X},n.a.createElement(ge.a,null,"Add Remarks"),n.a.createElement(ve.a,null,n.a.createElement("form",{className:t.container,onSubmit:function(t){return $(t,e.order.orderID,"Driver")}},n.a.createElement(ye.a,{className:t.formControl},n.a.createElement(L.a,{fullWidth:!0,label:"Remarks",margin:"normal",name:"cancelRemarks",variant:"outlined",required:!0,onChange:function(e){return G(e.target.value)}}),n.a.createElement(he.a,null,n.a.createElement(Q.a,{onMouseOver:function(e){return J(e)},onClick:function(e){return X()},color:"primary"},"Cancel"),n.a.createElement(Q.a,{onMouseOver:function(e){return J(e)},onClick:function(t){return $(t,e.order.orderID,"Driver")},color:"primary",type:"submit"},"Ok")))))),n.a.createElement(Ee.a,{open:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:!0},n.a.createElement(H.a,{severity:"success"},n.a.createElement(Ye.a,null,"Success"),n.a.createElement("strong",null,"Order Completed!!"))),n.a.createElement(Ee.a,{open:W,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:!0},n.a.createElement(H.a,{severity:"error"},n.a.createElement(Ye.a,null,"Failed"),n.a.createElement("strong",null,"Incorrect OTP!!"))),n.a.createElement(be.a,null,n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:6},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{className:t.title,color:"textSecondary",gutterBottom:!0},e.order.orderID)),n.a.createElement(B.a,{item:!0},n.a.createElement(Me.a,{color:"secondary",label:"In-Progress",size:"small"})),n.a.createElement(B.a,{item:!0},n.a.createElement(Me.a,{style:{backgroundColor:"gray",color:"white"},onMouseOver:function(e){return J(e)},label:"Cancel",onClick:function(e){return Y()},size:"small"}))),n.a.createElement(U.a,{variant:"h5",component:"h2"},e.order.customerName),n.a.createElement(U.a,{className:t.pos,color:"textSecondary"},e.order.mobileNumber),n.a.createElement(U.a,{variant:"body2",className:t.pos,component:"p"},e.order.addressValue),n.a.createElement(B.a,{container:!0,justify:"space-between",className:t.pos},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},e.order.quantity," ",n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},"Liters"))),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},n.a.createElement("i",{variant:"caption",className:"fas fa-rupee-sign"})," ",e.order.price)),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},1===e.order.paymentType?"Cash":"Credit"))),1===l&&n.a.createElement(B.a,{container:!0,justify:"space-between"},n.a.createElement(B.a,{item:!0},n.a.createElement(Q.a,{color:"primary",size:"small",onClick:function(){return o(2)},variant:"contained"},"Enter OTP"))),2===l&&n.a.createElement(B.a,{container:"true",direction:"row",justify:"space-between",spacing:1},n.a.createElement(B.a,{item:!0},n.a.createElement(L.a,{name:"otp",label:"OTP",variant:"outlined",size:"small",onChange:function(e){return j(e.target.value)},style:{width:"50%"}})),n.a.createElement(B.a,{item:!0},n.a.createElement(Q.a,{color:"primary",size:"small",onClick:function(){var t;(t=e.order.OTP)&&O==t?(o(3),j()):(I(!0),o(1),j(),console.log("OTP verification failed"))},variant:"contained"},"Verify OTP"))),3===l&&n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:2},n.a.createElement(B.a,{item:!0},n.a.createElement(L.a,{name:"actualQuantity",label:"Quantity",variant:"outlined",size:"small",onChange:function(e){return m(e.target.value)}})),n.a.createElement(B.a,{item:!0},n.a.createElement(L.a,{name:"deliveryCharge",label:"DeliveryCharge",variant:"outlined",size:"small",onChange:function(e){return b(e.target.value)},notched:"true"})),n.a.createElement(B.a,{item:!0},n.a.createElement(Q.a,{color:"primary",size:"small",onClick:function(){return function(t,a,r){var n;t&&a&&(n=Number(t)*Number(e.price)+Number(a)),x.collection("orders").doc(r).update({orderStatus:2,delivered:Date.now(),price:Number(n),deliveredQuantity:Number(t),deliveryCharge:Number(a)}).then((function(){D(!0),console.log("Document successfully written!"),o(1),j()})).catch((function(e){I(!0),console.error("Error writing document: ",e),o(1),j()}))}(s,f,e.order.orderID)},variant:"contained"},"Complete Order"))),n.a.createElement("br",null),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},e.order.remarks)))),e.userdata&&e.userdata.isOwner&&n.a.createElement("div",null,n.a.createElement(be.a,null,n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:6},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{className:t.title,color:"textSecondary",gutterBottom:!0},e.order.orderID)),n.a.createElement(B.a,{item:!0},n.a.createElement(Me.a,{color:"secondary",label:"In-Progress",size:"small"}))),n.a.createElement(U.a,{variant:"h5",component:"h2"},e.order.customerName),n.a.createElement(U.a,{className:t.pos,color:"textSecondary"},e.order.mobileNumber),n.a.createElement(U.a,{variant:"body2",className:t.pos,component:"p"},e.order.addressValue),n.a.createElement(B.a,{container:!0,justify:"space-between",className:t.pos},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},e.order.quantity," ",n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},"Liters"))),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},n.a.createElement("i",{variant:"caption",className:"fas fa-rupee-sign"})," ",e.order.price)),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"h4"},1===e.order.paymentType?"Cash":"Credit"))),n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textSecondary",variant:"caption"},e.order.remarks)))))},$e=Object(u.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:b.a.indigo[600],height:56,width:56}}})),Ke=function(e){var t=e.className,a=e.title,r=e.value,c=e.icon,l=Object(w.a)(e,["className","title","value","icon"]),o=$e();return n.a.createElement(fe.a,Object.assign({className:Object(N.a)(o.root,t)},l),n.a.createElement(be.a,null,n.a.createElement(B.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},a),n.a.createElement(U.a,{color:"textPrimary",variant:"h3"},r)),n.a.createElement(B.a,{item:!0},n.a.createElement(P.a,{className:o.avatar},c)))))},_e=a(261),Ze=a.n(_e),et=a(414),tt=a.n(et),at=Object(u.a)((function(){return{root:{height:"100%"},gridRoot:{flexGrow:"1"}}})),rt=function(e){var t=e.className,a=Object(w.a)(e,["className"]),r=at(),c=Object(He.a)(),l={datasets:[{data:[67,33],backgroundColor:[b.a.green[500],b.a.orange[600]],borderWidth:8,borderColor:b.a.common.white,hoverBorderColor:b.a.common.white}],labels:["Cash","Credit"]},o={animation:!1,cutoutPercentage:80,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:c.palette.background.default,bodyFontColor:c.palette.text.secondary,borderColor:c.palette.divider,borderWidth:1,enabled:!0,footerFontColor:c.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:c.palette.text.primary}},i=[{title:"Cash",value:67,icon:Ze.a,color:b.a.green[500]},{title:"Credit",value:33,icon:tt.a,color:b.a.orange[600]}];return n.a.createElement(fe.a,Object.assign({className:Object(N.a)(r.root,t)},a),n.a.createElement(Ue.a,{title:"Monthly Earning"}),n.a.createElement(be.a,null,n.a.createElement(B.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{color:"textPrimary",variant:"body1"},"This Month"),n.a.createElement(U.a,{color:"textPrimary",variant:"body1"},n.a.createElement("strong",null,"35,34,242"))),n.a.createElement(B.a,{item:!0},n.a.createElement(A.a,{position:"relative"},n.a.createElement(p.Doughnut,{data:l,options:o})),n.a.createElement(A.a,{display:"flex",justifyContent:"center",mt:2},i.map((function(e){var t=e.color,a=e.icon,r=e.title,c=e.value;return n.a.createElement(A.a,{key:r,p:1,textAlign:"center"},n.a.createElement(a,{color:"action"}),n.a.createElement(U.a,{color:"textPrimary",variant:"body1"},r),n.a.createElement(U.a,{style:{color:t},variant:"h2"},c,"%"))})))))),n.a.createElement(A.a,{display:"flex",ml:2},n.a.createElement(U.a,{color:"primary",variant:"caption"},"Total value of Earnings for the month of Dec 2020 in Rupees")))},nt=a(669),ct=a(416),lt=a.n(ct),ot=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(.5)},tab:{backgroundColor:e.palette.background.paper,width:"100%"}}})),it=function(){var e,t,a,c,l,o=ot(),i=Object(r.useState)(!0),u=Object(E.a)(i,2),s=u[0],m=(u[1],Object(r.useState)(92)),d=Object(E.a)(m,2),p=d[0],f=d[1],b=Object(r.useState)(0),g=Object(E.a)(b,2),h=g[0],v=g[1],y=Object(r.useState)(0),O=Object(E.a)(y,2),j=O[0],S=O[1],w=Object(r.useState)(0),N=Object(E.a)(w,2),D=N[0],P=N[1],T=C().currentUser,W=Object(r.useState)([]),I=Object(E.a)(W,2),F=I[0],M=I[1],q=Object(r.useState)([]),L=Object(E.a)(q,2),Q=L[0],G=L[1],X=Object(r.useState)([]),$=Object(E.a)(X,2),K=($[0],$[1]),ee=Object(r.useState)([]),ae=Object(E.a)(ee,2),ne=ae[0],le=ae[1],ie=Object(r.useState)([]),se=Object(E.a)(ie,2),fe=se[0],be=se[1],ge=Object(r.useState)(!1),Ee=Object(E.a)(ge,2),he=Ee[0],ve=Ee[1],ye=Object(r.useState)(0),Oe=Object(E.a)(ye,2),xe=Oe[0],je=Oe[1],Ce=Object(r.useState)(0),Se=Object(E.a)(Ce,2),we=Se[0],Ne=Se[1],ke=function(e,t){je(t)};(new Date).toISOString().slice(0,10);function De(e){return n.a.createElement(H.a,Object.assign({elevation:6,variant:"filled"},e))}function Pe(e){var t=e.children,a=e.value,r=e.index;return n.a.createElement("div",{role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},a===r&&n.a.createElement(A.a,{p:3},n.a.createElement(U.a,null,t)))}T&&T.uid&&(e=x.collection("orders").where("userID","==",T.uid).where("orderStatus","==",1)),t=x.collection("priceForTheDay").doc("e8kgvrn1XGzqM4JYAG3X"),Object(r.useEffect)((function(){(function(){var t=Object(R.a)(z.a.mark((function t(){var a,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:a=t.sent,r=[],a.forEach((function(e){r.push(e.data())})),M(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){return e.onSnapshot((function(e){var t=[];e&&e.forEach((function(e){t.push(e.data())})),M(t)}))}),[]),Object(r.useEffect)((function(){return x.collection("users").onSnapshot((function(e){var t=[];e&&e.forEach((function(e){console.log(e),t.push(Object(_.a)(Object(_.a)({},e.data()),{},{id:e.Df.key.path.segments[6]}))})),K(t)}))}),[]),Object(r.useEffect)((function(){return t.onSnapshot((function(e){e&&(e.data()&&f(e.data().price),e.data()&&v(e.data().minQuantity),e.data()&&S(e.data().startingStock),e.data()&&P(e.data().maxFutureDay))}))}),[]),T&&(c=x.collection("orders").where("userID","==",T.uid)),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get();case 2:t=e.sent,a=[],t.forEach((function(e){1!==e.data().orderStatus&&a.push(e.data())})),le(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){return c.onSnapshot((function(e){var t=[];e&&e.forEach((function(e){1!==e.data().orderStatus&&t.push(e.data())})),le(t)}))}),[]),a=x.collection("orders").where("orderStatus","==",1),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(z.a.mark((function e(){var t,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get();case 2:t=e.sent,r=[],t.forEach((function(e){r.push(e.data())})),G(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){return a.onSnapshot((function(e){var t=[];e&&e.forEach((function(e){t.push(e.data())})),G(t)}))}),[]),T&&T.uid&&(l=x.collection("orders")),Object(r.useEffect)((function(){(function(){var e=Object(R.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.get();case 2:t=e.sent,a=[],t.forEach((function(e){a.push(e.data())})),be(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){return l.onSnapshot((function(e){var t=[];e&&e.forEach((function(e){t.push(e.data())})),be(t)}))}),[]);var Te=Object(r.useState)(),Ie=Object(E.a)(Te,2),Fe=Ie[0],Me=Ie[1];Object(r.useEffect)((function(){try{x.collection("users").doc(T.uid).onSnapshot((function(e){e&&Me(e.data())}))}catch(e){console.log(e),console.log("Failed to get user data")}}),[T]);var qe=function(){ve(!0)},ze=function(e){return n.a.createElement(B.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(Je,{order:e,userdata:Fe,price:p,openNotification:qe}))},Re=(new Date).toLocaleString("default",{month:"long"}),Ae=[{title:"Orders to be fulfilled",value:15,icon:n.a.createElement(ce.a,null)},{title:"Completed Orders Today",value:5,icon:n.a.createElement(me.a,null)},{title:"Cash Sales Today",value:"1,35,723",icon:n.a.createElement(ce.a,null)},{title:"Credit Sales Today",value:"87,273",icon:n.a.createElement(me.a,null)},{title:"".concat(Re," Orders"),value:"1,35,723",icon:n.a.createElement(ue.a,null)},{title:"Opening Stock",value:"10,000 Ltrs",icon:n.a.createElement(oe.a,null)},{title:"Available Stock",value:"8,773 Ltrs",icon:n.a.createElement(oe.a,null)}];return n.a.createElement(n.a.Fragment,null,Fe&&void 0!==Fe.isOwner&&n.a.createElement("div",null,n.a.createElement(Z.a,{color:"white",maxWidth:!0},n.a.createElement(de.a,{"aria-label":"ownerNavigationTabs",value:xe,onChange:ke},n.a.createElement(pe.a,{label:n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",height:"10px"}},n.a.createElement(lt.a,{p:2,fontSize:"small"})," ",n.a.createElement("p",{style:{paddingLeft:"10px"}},"Home"))}),n.a.createElement(pe.a,{label:n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",height:"10px"}},n.a.createElement(te.a,{p:2,fontSize:"small"})," ",n.a.createElement("p",{style:{paddingLeft:"10px"}},"Orders"))}),n.a.createElement(pe.a,{label:n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",height:"10px"}},n.a.createElement(re.a,{p:2,fontSize:"small"})," ",n.a.createElement("p",{style:{paddingLeft:"10px"}},"Customers"))})))),n.a.createElement(J,{className:o.root,title:"Dashboard"},s&&n.a.createElement(Y,null),n.a.createElement(V.a,{maxWidth:!1},Fe&&Fe.isCustomer&&n.a.createElement("div",null,n.a.createElement(U.a,{color:"textPrimary",variant:"h2"},"Welcome ",T&&T.displayName),n.a.createElement(B.a,{container:!0,spacing:3},n.a.createElement(B.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(We,{price:p,userData:Fe,minQuantity:h,startingStock:j,maxFutureDay:D})),F.map((function(e){return ze(e)})),ne&&ne.length>0&&n.a.createElement(B.a,{item:!0,lg:12,md:12,xl:9,xs:12},n.a.createElement("div",{className:o.tab},n.a.createElement(k.a,{position:"static"},n.a.createElement(de.a,{value:xe,onChange:ke,"aria-label":"orderCreditHistoryTab"},n.a.createElement(pe.a,{label:"Order History"}),n.a.createElement(pe.a,{label:"Credit History"}))),n.a.createElement(Pe,{value:xe,index:0},ne&&ne.length>0&&n.a.createElement(B.a,{item:!0,lg:12,md:12,xl:9,xs:12},n.a.createElement(Ve,{orders:ne,userdata:Fe}))),n.a.createElement(Pe,{value:xe,index:1},"Item Two"))))),Fe&&Fe.isDriver&&n.a.createElement("div",null,n.a.createElement(U.a,{color:"textPrimary",variant:"h2"},"Welcome ",T&&T.displayName),n.a.createElement(B.a,{container:!0,spacing:3},Q.map((function(e){return ze(e)})),fe&&fe.length>0&&n.a.createElement(B.a,{item:!0,lg:12,md:12,xl:9,xs:12},n.a.createElement(Ve,{orders:fe,userdata:Fe})))),Fe&&void 0!==Fe.isOwner&&n.a.createElement("div",null,n.a.createElement(Pe,{value:xe,index:0},n.a.createElement(B.a,{container:!0,spacing:2},n.a.createElement(B.a,{item:!0,xs:!0,lg:4},n.a.createElement(rt,null)),n.a.createElement(B.a,{item:!0,xs:!0},n.a.createElement(B.a,{container:!0,spacing:3},n.a.createElement(B.a,{item:!0,lg:4,sm:6,xl:3,xs:12},n.a.createElement(We,{price:p})),Ae.map((function(e){return n.a.createElement(B.a,{item:!0,lg:4,sm:6,xl:3,xs:12},n.a.createElement(Ke,{title:e.title,value:e.value,icon:e.icon}))})))),fe&&fe.length>0&&n.a.createElement(B.a,{item:!0,lg:12,md:12,xl:9,xs:12},n.a.createElement(Ve,{orders:fe,userdata:Fe})))),n.a.createElement(Pe,{value:xe,index:1},n.a.createElement(B.a,{item:!0,lg:12,md:12,xl:9,xs:12},n.a.createElement("div",{className:o.tab},n.a.createElement(k.a,{position:"static"},n.a.createElement(de.a,{value:we,onChange:function(e,t){Ne(t)},"aria-label":"orderPageTab"},n.a.createElement(pe.a,{label:"All Orders"}),n.a.createElement(pe.a,{label:"Pending Orders"}))),n.a.createElement(Pe,{value:we,index:0},fe&&fe.length>0&&n.a.createElement(B.a,{item:!0,lg:12,md:12,xl:9,xs:12},n.a.createElement(Ve,{orders:fe,userdata:Fe}))),n.a.createElement(Pe,{value:we,index:1},Q&&Q.length>0?n.a.createElement(B.a,{item:!0,lg:12,md:12,xl:9,xs:12},n.a.createElement(Ve,{orders:Q,userdata:Fe})):"No Pending Orders")))),n.a.createElement(Pe,{value:xe,index:2})),n.a.createElement(nt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:he,autoHideDuration:5e3,onClose:function(){return ve(!1)},key:"TransitionLeft"},n.a.createElement(De,{severity:"error"},"Order Cancelled!")))))},ut=a(15),st=a(52),mt=a(684),dt=a(679),pt=a(670),ft=a(671),bt=a(672),gt=a(673),Et=a(674),ht=a(675),vt=a(676),yt=a(677),Ot=Object(u.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),xt=function(e){var t=e.className,a=e.href,r=e.icon,c=e.title,l=Object(w.a)(e,["className","href","icon","title"]),o=Ot();return n.a.createElement(Be.a,Object.assign({className:Object(N.a)(o.item,t),disableGutters:!0},l),n.a.createElement(Q.a,{activeClassName:o.active,className:o.button,component:st.b,to:a},r&&n.a.createElement(r,{className:o.icon,size:"20"}),n.a.createElement("span",{className:o.title},c)))},jt="/static/images/avatars/avatar_6.png",Ct="Senior Developer",St="Katarina Smith",wt=[{href:"/app/dashboard",icon:pt.a,title:"Dashboard"},{href:"/app/customers",icon:ft.a,title:"Customers"},{href:"/app/products",icon:bt.a,title:"Products"},{href:"/app/account",icon:gt.a,title:"Account"},{href:"/app/settings",icon:Et.a,title:"Settings"},{href:"/login",icon:ht.a,title:"Login"},{href:"/register",icon:vt.a,title:"Register"},{href:"/404",icon:yt.a,title:"Error"}],Nt=Object(u.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),kt=function(e){var t=e.onMobileClose,a=e.openMobile,c=Nt(),l=Object(ut.d)();Object(r.useEffect)((function(){a&&t&&t()}),[l.pathname]);var o=n.a.createElement(A.a,{height:"100%",display:"flex",flexDirection:"column"},n.a.createElement(A.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2},n.a.createElement(P.a,{className:c.avatar,component:st.a,src:jt,to:"/app/account"}),n.a.createElement(U.a,{className:c.name,color:"textPrimary",variant:"h5"},St),n.a.createElement(U.a,{color:"textSecondary",variant:"body2"},Ct)),n.a.createElement(Le.a,null),n.a.createElement(A.a,{p:2},n.a.createElement(Qe.a,null,wt.map((function(e){return n.a.createElement(xt,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))),n.a.createElement(A.a,{flexGrow:1}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(mt.a,{lgUp:!0},n.a.createElement(dt.a,{anchor:"left",classes:{paper:c.mobileDrawer},onClose:t,open:a,variant:"temporary"},o)),n.a.createElement(mt.a,{mdDown:!0},n.a.createElement(dt.a,{anchor:"left",classes:{paper:c.desktopDrawer},open:!0,variant:"persistent"},o)))};kt.defaultProps={onMobileClose:function(){},openMobile:!1};var Dt=a(88),Pt=a(277),Tt=a(419),Wt=a.n(Tt),It=a(420),Ft=a.n(It),Mt=a(421),qt=a.n(Mt),zt=a(262),Rt=a.n(zt),At=Object(u.a)((function(e){return{root:{height:"100%","& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{backgroundColor:b.a.red[600],height:56,width:56},differenceIcon:{color:b.a.red[900]},differenceValue:{color:b.a.red[900],marginRight:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},button:{margin:e.spacing(1)}}}));function Vt(e){var t,a=At(),c=C().currentUser;c&&(t=x.collection("users").doc(c.uid));var l=Object(r.useState)(),o=Object(E.a)(l,2),i=o[0],u=o[1];Object(r.useEffect)((function(){(function(){var e=Object(R.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:a=e.sent,u(a.data()),a.data()&&a.data().address&&p(a.data().address.map((function(e){return{id:e.id,tag:e.tag,value:e.value}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=Object(r.useState)([{id:Object(Ce.a)(),tag:"",value:""}]),m=Object(E.a)(s,2),d=m[0],p=m[1],f=Object(r.useState)(""),b=Object(E.a)(f,2),g=b[0],h=b[1],v=Object(r.useState)(!1),y=Object(E.a)(v,2),O=y[0],j=y[1],S=Object(r.useState)(c.displayName.split(" ")[0]),w=Object(E.a)(S,2),N=w[0],k=w[1],D=Object(r.useState)(c.displayName.split(" ")[1]),P=Object(E.a)(D,2),T=P[0],W=P[1],I=Object(r.useState)(),F=Object(E.a)(I,2),M=F[0],q=F[1],B=function(e,t){console.log(d,e,t);var a=d.map((function(a){return e===a.id&&(a[t.target.name]=t.target.value,console.log(t.target.name,t.target.value)),a}));p(a)},G=function(){p([].concat(Object(Oe.a)(d),[{id:Object(Ce.a)(),tag:"",value:""}]))};function Y(){return(Y=Object(R.a)(z.a.mark((function t(a){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==N&&""!==T){t.next=3;break}return t.abrupt("return",h("Name Cannot be empty"));case 3:if(!M||"undefined"===typeof M){t.next=11;break}if(new RegExp(/^[0-9\b]+$/).test(M)){t.next=9;break}return t.abrupt("return",h("Please enter only number"));case 9:if(10===M.length){t.next=11;break}return t.abrupt("return",h("Please enter valid phone number"));case 11:return t.prev=11,h(""),j(!0),c.updateProfile({displayName:"".concat(N," ").concat(T)}).then((function(){console.log("Name Updated")}),(function(e){h(e)})),r=Object(_.a)(Object(_.a)({},i),{},{mobileNumber:M||i.mobileNumber,address:d}),console.log(r),t.abrupt("return",x.collection("users").doc(c.uid).set(r).then((function(){return e.closeOrder()})));case 20:t.prev=20,t.t0=t.catch(11),console.log(t.t0),h("Failed to Update account");case 24:j(!1);case 25:case"end":return t.stop()}}),t,null,[[11,20]])})))).apply(this,arguments)}return n.a.createElement("div",null,n.a.createElement(ve.a,null,n.a.createElement(A.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},n.a.createElement(V.a,{maxWidth:"sm"},n.a.createElement(A.a,{mb:3},n.a.createElement(U.a,{color:"textPrimary",variant:"h2"},"Update your profile")),g&&n.a.createElement(H.a,{severity:"error"},g),n.a.createElement("form",{className:a.root,noValidate:!0},n.a.createElement(L.a,{fullWidth:!0,label:"First Name",margin:"normal",name:"firstName",variant:"outlined",required:!0,defaultValue:N,onChange:function(e){return k(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Last Name",margin:"normal",name:"LastName",variant:"outlined",required:!0,defaultValue:T,onChange:function(e){return W(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Mobile number",margin:"normal",name:"mobileNumber",variant:"outlined",required:!0,defaultValue:e.userData&&e.userData.mobileNumber,onChange:function(e){return q(e.target.value)}}),i&&i.isCustomer&&d&&d.length>0&&d.map((function(e){return console.log(e),n.a.createElement("div",{key:e.id},n.a.createElement(L.a,{name:"tag",label:"Tag",variant:"outlined",style:{width:"25%"},defaultValue:e?e.tag:"",onChange:function(t){return B(e.id,t)}}),n.a.createElement(L.a,{name:"value",label:"Value",variant:"outlined",defaultValue:e?e.value:"",style:{width:"48%"},onChange:function(t){return B(e.id,t)}}),n.a.createElement(Ge.a,{disabled:d&&1===d.length,onClick:function(){return function(e){var t=Object(Oe.a)(d);t=t.filter((function(t){return t.id!==e})),console.log(t,t.filter((function(t){return t.id!==e}))),p(t)}(e.id)}},n.a.createElement(Rt.a,null)),n.a.createElement(Ge.a,{onClick:G},n.a.createElement(Ne.a,null)))})))))),n.a.createElement(he.a,null,n.a.createElement(Q.a,{disabled:O,onClick:function(e){return Y.apply(this,arguments)},color:"primary"},"Update Profile"),n.a.createElement(Q.a,{onClick:e.closeOrder,color:"primary"},"Close")))}var Ut=Object(u.a)((function(e){return{root:{height:"100%","& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{backgroundColor:b.a.red[600],height:56,width:56},differenceIcon:{color:b.a.red[900]},differenceValue:{color:b.a.red[900],marginRight:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},button:{margin:e.spacing(1)}}}));function Lt(e){var t,a=Ut(),c=Object(r.useState)(e.price),l=Object(E.a)(c,2),o=l[0],i=l[1],u=Object(r.useState)({}),s=Object(E.a)(u,2),m=s[0],d=s[1],p=Object(r.useState)(!1),f=Object(E.a)(p,2),b=f[0],g=f[1],h=Object(r.useState)(0),v=Object(E.a)(h,2),y=v[0],O=v[1],j=Object(r.useState)(0),C=Object(E.a)(j,2),S=C[0],w=C[1],N=Object(r.useState)(0),k=Object(E.a)(N,2),D=k[0],P=k[1];t=x.collection("priceForTheDay").doc("e8kgvrn1XGzqM4JYAG3X"),Object(r.useEffect)((function(){return t.onSnapshot((function(e){e&&(console.log(e.data()),e.data()&&i(e.data().price),e.data()&&O(e.data().minQuantity),e.data()&&w(e.data().startingStock),e.data()&&P(e.data().maxFutureDay))}))}),[]);var T=function(e,t){switch(e){case"fuelPrice":isNaN(t)&&d((function(e){return Object(_.a)(Object(_.a)({},e),{},{fuelPrice:{message:"Price has to be a valid number"}})})),isNaN(t)||Number(t)||d((function(e){return Object(_.a)(Object(_.a)({},e),{},{fuelPrice:{message:"Price cannot be 0"}})})),!isNaN(t)&&Number(t)&&(d((function(e){return Object(_.a)(Object(_.a)({},e),{},{fuelPrice:null})})),i(t));break;case"startingStock":isNaN(t)&&d((function(e){return Object(_.a)(Object(_.a)({},e),{},{startingStock:{message:"Stock has to be a valid number"}})})),isNaN(t)||Number(t)||d((function(e){return Object(_.a)(Object(_.a)({},e),{},{startingStock:{message:"Stock cannot be 0"}})})),!isNaN(t)&&Number(t)&&(d((function(e){return Object(_.a)(Object(_.a)({},e),{},{startingStock:null})})),w(t));break;case"minQuantity":isNaN(t)&&d((function(e){return Object(_.a)(Object(_.a)({},e),{},{minQuantity:{message:"Quantity has to be a valid number"}})})),isNaN(t)||Number(t)||d((function(e){return Object(_.a)(Object(_.a)({},e),{},{minQuantity:{message:"Minimum Quantity cannot be 0"}})})),!isNaN(t)&&Number(t)&&(d((function(e){return Object(_.a)(Object(_.a)({},e),{},{minQuantity:null})})),O(t));break;case"maxFutureDay":isNaN(t)&&d((function(e){return Object(_.a)(Object(_.a)({},e),{},{maxFutureDay:{message:"PLease provide valid number"}})})),!isNaN(t)&&Number(t)&&(d((function(e){return Object(_.a)(Object(_.a)({},e),{},{maxFutureDay:null})})),P(t))}};function W(){return(W=Object(R.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault();try{x.collection("priceForTheDay").doc("e8kgvrn1XGzqM4JYAG3X").update({price:parseInt(o),lastUpdated:Date.now(),minQuantity:y,maxFutureDay:D,startingStock:S}).then((function(){console.log("Document successfully written!")}))}catch(r){console.log(r),console.log("Failed to get user data")}g(!1),e.closeOrder();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return n.a.createElement("div",null,n.a.createElement(ve.a,null,n.a.createElement(A.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},n.a.createElement(V.a,{maxWidth:"sm"},n.a.createElement(A.a,{mb:3},n.a.createElement(U.a,{color:"textPrimary",variant:"h2"},"Update settings")),n.a.createElement("form",{className:a.root,noValidate:!0},n.a.createElement(L.a,{fullWidth:!0,label:"Fuel Price",margin:"normal",name:"fuelPrice",variant:"outlined",required:!0,defaultValue:o,onChange:function(e){return T(e.target.name,e.target.value)}}),m&&m.fuelPrice&&n.a.createElement(H.a,{severity:"error"},m.fuelPrice.message),S&&n.a.createElement(L.a,{fullWidth:!0,label:"Starting Stock",margin:"normal",name:"startingStock",variant:"outlined",required:!0,defaultValue:S,onChange:function(e){return T(e.target.name,e.target.value)}}),m&&m.startingStock&&n.a.createElement(H.a,{severity:"error"},m.startingStock.message),y&&n.a.createElement(L.a,{fullWidth:!0,label:"Minimum Quantity",margin:"normal",name:"minQuantity",variant:"outlined",required:!0,type:"number",defaultValue:y,onChange:function(e){return T(e.target.name,e.target.value)}}),m&&m.minQuantity&&n.a.createElement(H.a,{severity:"error"},m.minQuantity.message),n.a.createElement("div",null,n.a.createElement(L.a,{fullWidth:!0,label:"Vehicle number",margin:"normal",name:"vehicleNumber",variant:"outlined",required:!0,disabled:!0}),n.a.createElement(L.a,{fullWidth:!0,label:"Driver name",margin:"normal",name:"driverName",variant:"outlined",required:!0,disabled:!0}),D&&n.a.createElement(L.a,{fullWidth:!0,label:"Advanced booking limit(days)",margin:"normal",name:"maxFutureDay",variant:"outlined",required:!0,defaultValue:D,onChange:function(e){return T(e.target.name,e.target.value)}}),m&&m.maxFutureDay&&n.a.createElement(H.a,{severity:"error"},m.maxFutureDay.message)))))),n.a.createElement(he.a,null,n.a.createElement(Q.a,{disabled:b,onClick:function(e){return W.apply(this,arguments)},color:"primary"},"Update Settings"),n.a.createElement(Q.a,{onClick:e.closeOrder,color:"primary"},"Close")))}var Qt=Object(f.a)();Qt.typography.h3=Object(Dt.a)({fontSize:"0.7rem","@media (min-width:600px)":{fontSize:"1.2rem"}},Qt.breakpoints.up("md"),{fontSize:"2rem"});var Bt=Object(u.a)((function(){return{root:{},avatar:{width:60,height:60}}})),Gt=function(e){var t=e.className,a=(e.onMobileNavOpen,e.userData),c=e.price,l=Object(w.a)(e,["className","onMobileNavOpen","userData","price"]),u=Bt(),s=Object(r.useState)([]),m=Object(E.a)(s,1)[0],d=C().logout,p=Object(r.useState)(!1),f=Object(E.a)(p,2),b=f[0],g=f[1],h=Object(r.useState)(!1),v=Object(E.a)(h,2),y=(v[0],v[1],C().currentUser,Object(r.useState)(!1)),O=Object(E.a)(y,2),x=O[0],j=O[1],S=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&j(e)}},P=function(){g(!1)};function W(){return(W=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d();case 4:Object(o.navigate)("/login",!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(k.a,Object.assign({className:Object(N.a)(u.root,t),elevation:0},l),n.a.createElement(D.a,null,n.a.createElement(T,null),n.a.createElement(A.a,{flexGrow:1}),n.a.createElement(i.a,{theme:Qt},n.a.createElement(U.a,{style:{color:"white"},variant:"h3"},"SHAKTHI GANAPATHI FUEL STATION")),n.a.createElement(A.a,{flexGrow:1}),a&&a.isOwner&&n.a.createElement(Ge.a,{color:"inherit"},n.a.createElement(Pt.a,{badgeContent:m.length,color:"primary",variant:"dot"},n.a.createElement(Wt.a,{onClick:S(!0)}))),n.a.createElement(Ge.a,{color:"inherit"},n.a.createElement(Pt.a,{badgeContent:m.length,color:"primary",variant:"dot"},n.a.createElement(Ft.a,{onClick:function(){g(!0)}}))),n.a.createElement(Ge.a,{color:"inherit"},n.a.createElement(qt.a,{onClick:function(e){return W.apply(this,arguments)}})))),n.a.createElement("div",null,b&&n.a.createElement(Ee.a,{open:b,onClose:P,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm"},n.a.createElement(Vt,{userData:a,closeOrder:P}))),n.a.createElement("div",null,n.a.createElement(dt.a,{anchor:"right",open:x,onClose:S(!1)},n.a.createElement(Lt,{userData:a,price:c,closeOrder:S(!1)})))))},Ht=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"},footer:{padding:e.spacing(1.5,1),marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800],bottom:0,position:"sticky"}}})),Yt=function(e){var t=e.children,a=Ht(),c=C().currentUser,l=Object(r.useState)(!1),o=Object(E.a)(l,2),i=(o[0],o[1]),u=Object(r.useState)(),s=Object(E.a)(u,2),m=s[0],d=s[1],p=Object(r.useState)(92),f=Object(E.a)(p,2),b=f[0],g=f[1],h=x.collection("priceForTheDay").doc("e8kgvrn1XGzqM4JYAG3X");return Object(r.useEffect)((function(){try{x.collection("users").doc(c.uid).onSnapshot((function(e){return d(e.data())}))}catch(e){console.log(e),console.log("Failed to Update user data")}return h.onSnapshot((function(e){e&&e.data()&&g(e.data().price)}))}),[]),n.a.createElement("div",{className:a.root},n.a.createElement(Gt,{onMobileNavOpen:function(){return i(!0)},userData:m,updateUserData:d,price:b,setPrice:g}),m&&void 0!==m.isOwner&&n.a.createElement("p",null,"HI"),n.a.createElement("div",{className:a.wrapper},n.a.createElement("div",{className:a.contentContainer},n.a.createElement("div",{className:a.content},t,n.a.createElement("footer",{className:a.footer},n.a.createElement(V.a,null,n.a.createElement(B.a,{container:!0,justify:"center",className:a.pos},n.a.createElement(B.a,{item:!0},n.a.createElement(U.a,{style:{color:"black"},variant:"caption"},"Phone : 9008761088 | Email : r6mesh@gmail.com | Toll Free No : 1800 2333 555")))))))))},Xt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Jt=function(){var e=Xt(),t=C().signup,a=(C().currentUser,Object(r.useState)("")),c=Object(E.a)(a,2),l=c[0],i=c[1],u=Object(r.useState)(!1),s=Object(E.a)(u,2),m=s[0],d=s[1],p=Object(r.useState)(!1),f=Object(E.a)(p,2),b=f[0],g=f[1],h=Object(r.useState)(!1),v=Object(E.a)(h,2),y=v[0],O=v[1],j=Object(r.useState)(!1),S=Object(E.a)(j,2),w=S[0],N=S[1],k=Object(r.useState)(!1),D=Object(E.a)(k,2),P=D[0],T=D[1],W=Object(r.useState)(!1),I=Object(E.a)(W,2),F=I[0],M=I[1],q=Object(r.useState)(!1),B=Object(E.a)(q,2),G=B[0],Y=B[1];function X(){return(X=Object(R.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),P===F){e.next=3;break}return e.abrupt("return",i("Passwords do not match"));case 3:if(!G||"undefined"===typeof G){e.next=11;break}if(new RegExp(/^[0-9\b]+$/).test(G)){e.next=9;break}return e.abrupt("return",i("Please enter only number"));case 9:if(10===G.length){e.next=11;break}return e.abrupt("return",i("Please enter valid phone number"));case 11:return e.prev=11,i(""),d(!0),e.next=16,t(w,P).then((function(e){return e.user.updateProfile({displayName:"".concat(b," ").concat(y)}).then((function(){console.log("Name Updated")})),x.collection("users").doc(e.user.uid).set({isCustomer:!0,mobileNumber:G})}));case 16:Object(o.navigate)("/app/dashboard",{replace:!0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),i("Failed to create an account");case 22:d(!1);case 23:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}return n.a.createElement(J,{className:e.root,title:"Register"},n.a.createElement(A.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},n.a.createElement(V.a,{maxWidth:"sm"},n.a.createElement(A.a,{mb:3},n.a.createElement(U.a,{color:"textPrimary",variant:"h2"},"Create new account"),n.a.createElement(U.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use your email to create new account")),l&&n.a.createElement(H.a,{severity:"error"},l),n.a.createElement("form",{className:"form",noValidate:!0},n.a.createElement(L.a,{fullWidth:!0,label:"First Name",margin:"normal",name:"firstName",variant:"outlined",onChange:function(e){return g(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Last Name",margin:"normal",name:"LastName",variant:"outlined",onChange:function(e){return O(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Mobile number",margin:"normal",name:"mobileNumber",variant:"outlined",required:!0,onChange:function(e){return Y(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Email",margin:"normal",name:"email",type:"email",variant:"outlined",required:!0,onChange:function(e){return N(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined",required:!0,onChange:function(e){return T(e.target.value)}}),n.a.createElement(L.a,{fullWidth:!0,label:"Confirm Password",margin:"normal",name:"confirmPassword",type:"password",variant:"outlined",required:!0,onChange:function(e){return M(e.target.value)}}),n.a.createElement(A.a,{my:2},n.a.createElement(Q.a,{color:"primary",disabled:m,fullWidth:!0,size:"large",type:"submit",variant:"contained",onClick:function(e){return X.apply(this,arguments)}},"Sign up now"))),n.a.createElement(U.a,{color:"textSecondary",variant:"body1"},"Have an account?"," ",n.a.createElement(o.A,{href:"/login",variant:"h6"},"Sign in")))))},$t=function(){var e={"/":function(){return n.a.createElement(M,null,n.a.createElement(K,null))},"/login":function(){return n.a.createElement(M,null,n.a.createElement(K,null))},"/app/dashboard":function(){return n.a.createElement(Yt,null,n.a.createElement(it,null))},"/register":function(){return n.a.createElement(M,null,n.a.createElement(Jt,null))}},t=Object(o.useRoutes)(e);return n.a.createElement(S,null,n.a.createElement(i.a,{theme:g},n.a.createElement(d,null),t||n.a.createElement("h1",null,"Invalid routing")))};a(603),a(604);l.a.render(n.a.createElement($t,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[439,1,2]]]);
//# sourceMappingURL=main.8ec559fc.chunk.js.map